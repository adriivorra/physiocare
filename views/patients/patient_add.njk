{% extends "base.njk" %}

{% block title %}Registrar Paciente{% endblock %}

{% block content %}
<div class="container mt-4">
  <h1>Registrar Nuevo Paciente</h1>
  {% if errors %}
  <div class="alert alert-danger">
    <ul>
      {% for error in errors %}
      <li>{{ error }}</li>
      {% endfor %}
    </ul>
  </div>
  {% endif %}
  <form action="/patients" method="POST" enctype="multipart/form-data">
    <div class="form-group">
      <label for="name">Nombre</label>
      <input type="text" class="form-control" id="name" name="name" value="{{ old.name }}" required>
    </div>
    <div class="form-group">
      <label for="surname">Apellidos</label>
      <input type="text" class="form-control" id="surname" name="surname" value="{{ old.surname }}" required>
    </div>
    <div class="form-group">
      <label for="birthDate">Fecha de Nacimiento</label>
      <input type="date" class="form-control" id="birthDate" name="birthDate" value="{{ old.birthDate }}" required>
    </div>
    <div class="form-group">
      <label for="address">Dirección</label>
      <input type="text" class="form-control" id="address" name="address" value="{{ old.address }}">
    </div>
    <div class="form-group">
      <label for="insuranceNumber">Número de Seguro</label>
      <input type="text" class="form-control" id="insuranceNumber" name="insuranceNumber" value="{{ old.insuranceNumber }}" required>
    </div>
    <div class="form-group">
      <label for="image">Imagen</label>
      <input type="file" class="form-control" id="imagen" name="imagen" accept="image/*">
    </div>
    <hr>
    <h3>Datos de Usuario Asociado</h3>
    <div class="form-group">
      <label for="username">Usuario</label>
      <input type="text" class="form-control" id="username" name="username" value="{{ old.username }}" required>
    </div>
    <div class="form-group">
      <label for="password">Contraseña</label>
      <input type="password" class="form-control" id="password" name="password" required>
    </div>
    <button type="submit" class="btn btn-primary mt-3">Registrar Paciente</button>
    <a href="/patients" class="btn btn-secondary mt-3">Cancelar</a>
  </form>
</div>
{% endblock %}
